// src/sw/main.ts
const {clients, addEventListener} = self;
let CACHE_NAME = "parcheesi-v0.3";
let urlsToCacheDuringInstall = [
  "/",
  "/bundle.js",
  "/manifest.json"
];
self.addEventListener("install", (event) => {
  event.waitUntil(caches.open(CACHE_NAME).then(function(cache) {
    return cache.addAll(urlsToCacheDuringInstall);
  }));
});
self.addEventListener("install", function(event) {
  event.waitUntil(Promise.all([
    self.skipWaiting()
  ]));
});
self.addEventListener("fetch", function(event) {
  let originalURL = event.request.url;
  let cacheURL = originalURL;
  if (/\?v\=[0-9]+$/.test(originalURL)) {
    cacheURL = originalURL.replace(/\?v\=[0-9]+/, "");
  }
  let supportsWebP = false;
  if (event.request.headers.has("accept")) {
    supportsWebP = event.request.headers.get("accept").includes("webp");
  }
  if (supportsWebP) {
    if (/\.jpg$|.png$/.test(cacheURL)) {
    }
  }
  if (event.request.headers.get("save-data")) {
    if (event.request.url.includes("fonts.gooleapis.com")) {
      event.respondWith(new Response("", {
        status: 417,
        statusText: "Ignore fonts to save data."
      }));
    }
  }
  event.respondWith(caches.match(cacheURL).then(function(response) {
    if (response) {
      return response;
    }
    let requestToCache = event.request.clone();
    return fetch(originalURL).then(function(response2) {
      if (!response2 || response2.status !== 200 || response2.type !== "basic") {
        return response2;
      }
      let responseToCache = response2.clone();
      caches.open(CACHE_NAME).then(function(cache) {
        cache.put(cacheURL, responseToCache);
      });
      return response2;
    });
  }));
});
self.addEventListener("activate", function(event) {
  let cacheWhitelist = [CACHE_NAME];
  event.waitUntil(Promise.all([
    caches.keys().then(function(allStoredCacheNames) {
      return Promise.all(allStoredCacheNames.filter(function(v) {
        return cacheWhitelist.indexOf(v) < 0;
      }).map(function(el) {
        return caches.delete(el);
      }));
    }),
    event.waitUntil(self.clients.claim())
  ]));
});
self.addEventListener("message", function(event) {
  if ("skipWaiting" in event.data) {
    self.skipWaiting();
  }
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3N3L21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vLyA8cmVmZXJlbmNlIG5vLWRlZmF1bHQtbGliPVwidHJ1ZVwiLz5cclxuLy8vIDxyZWZlcmVuY2UgbGliPVwiZXNuZXh0XCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgbGliPVwid2Vid29ya2VyXCIgLz5cclxuXHJcbi8vZXhwb3J0IGRlZmF1bHQgbnVsbFxyXG5leHBvcnQge307XHJcblxyXG5jb25zdCB7Y2xpZW50cywgYWRkRXZlbnRMaXN0ZW5lcn0gPSBzZWxmIGFzIFNlcnZpY2VXb3JrZXJHbG9iYWxTY29wZVxyXG5kZWNsYXJlIHZhciBzZWxmOiBTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGVcclxuLy9kZWNsYXJlIHZhciBjbGllbnRzOiBDbGllbnRzO1xyXG5cclxubGV0IFZFUlNJT04gPSAndjAuMSdcclxubGV0IENBQ0hFX05BTUUgPSAncGFyY2hlZXNpLXYwLjMnXHJcbmxldCB1cmxzVG9DYWNoZUR1cmluZ0luc3RhbGwgPSBbXHJcblx0Jy8nLFxyXG5cdCcvYnVuZGxlLmpzJyxcclxuXHQnL21hbmlmZXN0Lmpzb24nLFxyXG5dXHJcblxyXG5pbnRlcmZhY2UgV2luZG93IGV4dGVuZHMgU2VydmljZVdvcmtlckdsb2JhbFNjb3BlIHtcclxufVxyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1JTlNUQUxMPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVHJpZ2dlcnMgd2hlbiBzdyBkb2Vzbid0IGV4aXN0IG9yIG5lZWRzIHRvIGJlIHVwZGF0ZWRcclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKFwiaW5zdGFsbFwiLCBldmVudCA9PiB7XHJcblx0Ly8gUGVyZm9ybSBpbnN0YWxsIHN0ZXBzLiB3YWl0VW50aWwgYWNjZXB0cyBhIHByb21pc2VcclxuXHQvLyB3aGljaCAtIGlmIHJlc29sdmVzIC0gdGhlIGJyb3dzZXIgd2lsbCBrbm93IHRoYXQgaW5zdGFsbGF0aW9uIHdhc1xyXG5cdC8vIHN1Y2Nlc3NmdWwuIElmIHRoZSBwcm9taXNlIHJlamVjdHMsIHRoZW4gaW5zdGFsbCBmYWlsZWQgYW5kIHRoaXNcclxuXHQvLyBzZXJ2ZXIgd29ya2VyIHNob3VsZCBiZSBSRUpFQ1RFRCAhISEhIVxyXG5cdGV2ZW50LndhaXRVbnRpbChcclxuXHRcdC8vIC5vcGVuIG9wZW5zIG9yIGNyZWF0ZXMgYW5kIG9wZW4gYSBjYWNoZSB3aXRoIGEgZ2l2ZW4gbmFtZVxyXG5cdFx0Ly8gaXQgc2F2ZXMgcmVxdWVzdC9yZXNwb25zZSBwYWlyc1xyXG5cdFx0Y2FjaGVzLm9wZW4oQ0FDSEVfTkFNRSlcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24gKGNhY2hlKSB7XHJcblx0XHRcdFx0Ly8gY2FjaGUuYWRkQWxsIGlzIGxpa2UgYSBsb29wIG9mIGNhY2hlLnB1dCBmb3IgZXZlcnkgcmVxdWVzdCxcclxuXHRcdFx0XHQvLyB3aGljaCBpcyBhIHByb21pc2UgYXMgd2VsbCwgd2hpY2ggY2FuIGJlIHJldHVybmVkLlxyXG5cdFx0XHRcdC8vIEl0IGF0dGVtcHRzIHRvIGFkZCBldmVyeSBpdGVtIGZyb20gdGhlIGxpc3QgYXMgcmVxdWVzdC9yZXNwb25zZSBwYWlyXHJcblx0XHRcdFx0Ly8gSXQncyBcImF0b21pY1wiIC0gaWYgYW55IG9mIHRoZW0gZmFpbCwgbm9uZSBhcmUgYWRkZWRcclxuXHRcdFx0XHQvLyBJdCB1c2VzIFwiZmV0Y2hcIiB1bmRlciB0aGUgaG9vZCwgc28gcmVzdWx0IG1heSBjb21lIGZyb20gdGhlIHJlZ3VsYXIgYnJvd3NlciBjYWNoZS5cclxuXHRcdFx0XHRyZXR1cm4gY2FjaGUuYWRkQWxsKHVybHNUb0NhY2hlRHVyaW5nSW5zdGFsbClcclxuXHRcdFx0fSlcclxuXHQpXHJcblx0LypcclxuXHRJbnNpZGUgb2Ygb3VyIGluc3RhbGwgY2FsbGJhY2ssIHdlIG5lZWQgdG8gdGFrZSB0aGUgZm9sbG93aW5nIHN0ZXBzOlxyXG5cdE9wZW4gYSBjYWNoZS5cclxuXHRDYWNoZSBvdXIgZmlsZXMuXHJcblx0Q29uZmlybSB3aGV0aGVyIGFsbCB0aGUgcmVxdWlyZWQgYXNzZXRzIGFyZSBjYWNoZWQgb3Igbm90LlxyXG5cdCovXHJcbn0pXHJcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcihcImluc3RhbGxcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0ZXZlbnQud2FpdFVudGlsKFxyXG5cdFx0UHJvbWlzZS5hbGwoW1xyXG5cdFx0XHRzZWxmLnNraXBXYWl0aW5nKCksXHJcblx0XHRdKVxyXG5cdClcclxufSlcclxuXHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09RkVUQ0g9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGZXRjaGVzIHdpbGwgb25seSBraWNrIGluIGFmdGVyIHRoZSBwYWdlIGlzIHJlZnJlc2hlZCBmb3IgdGhlIGZpcnN0IHRpbWVcclxuLy8gYWZ0ZXIgJ2luc3RhbGwnIHJlZ2lzdGVyZWQgc2VydmljZSB3b3JrZXIgc3VjY2Vzc2Z1bGx5LlxyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0bGV0IG9yaWdpbmFsVVJMID0gZXZlbnQucmVxdWVzdC51cmw7XHJcblx0bGV0IGNhY2hlVVJMID0gb3JpZ2luYWxVUkxcclxuXHRpZiAoL1xcP3ZcXD1bMC05XSskLy50ZXN0KG9yaWdpbmFsVVJMKSkge1xyXG5cdFx0Ly8gV2Ugd2FudCB0byBrZWVwIGEgY2xlYW4gY29weSB3aXRob3V0IGEgXCI/dj0yMzQwMDIzNFwiIGJyb3dzZXIgdHJpY2tcclxuXHRcdGNhY2hlVVJMID0gb3JpZ2luYWxVUkwucmVwbGFjZSgvXFw/dlxcPVswLTldKy8sICcnKVxyXG5cdFx0Ly8gRXhhbXBsZTpcclxuXHRcdC8vIGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9qcy9idW5kbGUuanM/dj0xNTkxNDk1MjU2XHJcblx0XHQvLyBodHRwOi8vbG9jYWxob3N0OjgwODEvanMvYnVuZGxlLmpzXHJcblx0fVxyXG5cdGxldCBzdXBwb3J0c1dlYlAgPSBmYWxzZVxyXG5cdGlmIChldmVudC5yZXF1ZXN0LmhlYWRlcnMuaGFzKCdhY2NlcHQnKSkge1xyXG5cdFx0c3VwcG9ydHNXZWJQID0gZXZlbnQucmVxdWVzdC5oZWFkZXJzLmdldCgnYWNjZXB0JykuaW5jbHVkZXMoJ3dlYnAnKVxyXG5cdH1cclxuXHRpZiAoc3VwcG9ydHNXZWJQKSB7XHJcblx0XHRpZiAoL1xcLmpwZyR8LnBuZyQvLnRlc3QoY2FjaGVVUkwpKSB7XHJcblx0XHRcdC8vIE1vZGlmeSByZXF1ZXN0IHRvIGdldCB3ZWJwIGluc3RlYWQgb2YganBnICYgcG5nXHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChldmVudC5yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdzYXZlLWRhdGEnKSkge1xyXG5cdFx0aWYgKGV2ZW50LnJlcXVlc3QudXJsLmluY2x1ZGVzKCdmb250cy5nb29sZWFwaXMuY29tJykpIHtcclxuXHRcdFx0Ly8gUmV0dXJuIG5vdGhpbmcgaXMgXCJTYXZlLURhdGE6IG9uIGlzIHR1cm5lZFxyXG5cdFx0XHRldmVudC5yZXNwb25kV2l0aChuZXcgUmVzcG9uc2UoJycsIHtzdGF0dXM6IDQxNyAvKnRoZSBzZXJ2ZXIgY2Fubm90IG1lZXQgdGhlIHJlcXVpcmVtZW50cyBvZiB0aGUgRXhwZWN0IHJlcXVlc3QtaGVhZGVyIGZpZWxkKi8sXHJcblx0XHRcdFx0c3RhdHVzVGV4dDogXCJJZ25vcmUgZm9udHMgdG8gc2F2ZSBkYXRhLlwifSkpXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHJcblx0ZXZlbnQucmVzcG9uZFdpdGgoXHJcblx0XHQvLyBjYWNoZXMubWF0Y2ggbG9va3MgZm9yIHJlcXVlc3QvcmVzcG9uc2UgcGFpciBpbiB0aGUgY2FjaGVcclxuXHRcdC8vIGl0IGFjY2VwdHMgZWl0aGVyIFVSTCBvciByZXF1ZXN0IG9iamVjdC4gUmV0dXJucyBhIHByb21pc2VcclxuXHRcdC8vIGlmIGZvdW5kIG9yIHJlc3BvbmRzIHRoYXQgcmVzb2x2ZXMgdG8gXCJ1bmRlZmluZWRcIiwgYm90aCBjYW4gYmUgY2F1Z2h0IGJ5IGEgc2luZ2xlIFwiLnRoZW5cIi5cclxuXHRcdC8vIEl0IHdpbGwgYmUgbG9va2luZyB0aHJvdWdoIGFsbCBhdmFpbGFibGUgY2FjaGVzLCBzdGFydGluZyB3aXRoIHRoZSBvbGRcclxuXHJcblx0XHQvLyBpZ25vcmVTZWFyY2g6IHRydWUgaWdub3JlcyA/bmFtZT12YWx1ZSBzdHVmZiBpbiB0aGUgcXVlcnkuXHJcblx0XHQvLyBzbyBpdCBpcyBnb25uYSBtYXRjaCBBTlkgb2YgdGhvc2UsIHByb3ZpZGVkIHRoZSBuYW1lIGlzIHRoZSBzYW1lLi4uIG5vdCBhbHdheXMgd2hhdCB5b3Ugd291bGQgd2FudCFcclxuXHRcdGNhY2hlcy5tYXRjaChjYWNoZVVSTCwgLyp7IGlnbm9yZVNlYXJjaDogdHJ1ZSB9Ki8pIC8vbWF0Y2goZXZlbnQucmVxdWVzdClcclxuXHRcdFx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0Ly8gQ2FjaGUgaGl0IC0gcmV0dXJuIHJlc3BvbnNlXHJcblx0XHRcdFx0aWYgKHJlc3BvbnNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzcG9uc2VcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFJlcXVlc3QgaXMgYSBzdHJlYW0sIGNhbiBvbmx5IGJlIGNvbnN1bWVkIG9uY2UuXHJcblx0XHRcdFx0bGV0IHJlcXVlc3RUb0NhY2hlID0gZXZlbnQucmVxdWVzdC5jbG9uZSgpO1xyXG5cclxuXHRcdFx0XHQvLyBXZSB0cnkgbWFrZSB0aGUgb3JpZ2luYWwgSFRUUCByZXF1ZXN0ICh2aWEgb3JpZ2luYWwgVVJMKVxyXG5cdFx0XHRcdHJldHVybiBmZXRjaChvcmlnaW5hbFVSTCAvKnJlcXVlc3RUb0NhY2hlIHdvdWxkIGJlIHVzdWFsbHkgaGVyZSovKS50aGVuKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBDaGVjayBpZiB3ZSByZWNlaXZlZCBhIHZhbGlkIHJlc3BvbnNlXHJcblx0XHRcdFx0XHRcdGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgfHwgcmVzcG9uc2UudHlwZSAhPT0gJ2Jhc2ljJykge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXNwb25zZSAvLyBSZXR1cm4gZXJyb3IgaWYgaXQgaGFwcGVuc1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBJTVBPUlRBTlQ6IENsb25lIHRoZSByZXNwb25zZS4gQSByZXNwb25zZSBpcyBhIHN0cmVhbVxyXG5cdFx0XHRcdFx0XHQvLyBhbmQgYmVjYXVzZSB3ZSB3YW50IHRoZSBicm93c2VyIHRvIGNvbnN1bWUgdGhlIHJlc3BvbnNlXHJcblx0XHRcdFx0XHRcdC8vIGFzIHdlbGwgYXMgdGhlIGNhY2hlIGNvbnN1bWluZyB0aGUgcmVzcG9uc2UsIHdlIG5lZWRcclxuXHRcdFx0XHRcdFx0Ly8gdG8gY2xvbmUgaXQgc28gd2UgaGF2ZSB0d28gc3RyZWFtcy5cclxuXHRcdFx0XHRcdFx0Ly8gUmVzcG9uc2UgaXMgYSBzdHJlYW0sIGNhbiBvbmx5IGJlIGNvbnN1bWVkIG9uY2UsIHdlIGFyZSBnb2luZyB0byByZXR1cm4gb3JpZ2luYWwgb25lIHNvb24sXHJcblx0XHRcdFx0XHRcdC8vIHNvIHdvcmtpbmcgb24gYSBjbG9uZSB3aXRoaW4gY2FjaGluZ1xyXG5cdFx0XHRcdFx0XHRsZXQgcmVzcG9uc2VUb0NhY2hlID0gcmVzcG9uc2UuY2xvbmUoKTtcclxuXHJcblx0XHRcdFx0XHRcdGNhY2hlcy5vcGVuKENBQ0hFX05BTUUpIC8vIE9wZW5zIHRoZSBjYWNoZSBieSBuYW1lXHJcblx0XHRcdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24gKGNhY2hlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBjYWNoZS5wdXQgcGxhY2VzIHJlcXVlc3QvcmVzcG9uc2UgcGFpciBpbnRvIGNhY2hlXHJcblx0XHRcdFx0XHRcdFx0XHRjYWNoZS5wdXQoY2FjaGVVUkwsIHJlc3BvbnNlVG9DYWNoZSk7ICAvLyBidXQgd2Ugc2F2ZSBpdCBhcyBhIGNhY2hlVVJMIGluc3RlYWRcclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9KVxyXG5cdClcclxuXHJcblx0Ly8gU1cgaXMgYWN0aW5nIGxpa2UgYSBwcm94eVxyXG5cdC8vIGlmICgvXFwuanBnJC8udGVzdChldmVudC5yZXF1ZXN0LnVybCkpIHtcclxuXHQvLyAgIGV2ZW50LnJlc3BvbmRXaXRoKGZldGNoKCcvYW5vdGhlci9pbWFnZS5qcGcnLCB7XHJcblx0Ly8gICBcdG1vZGU6IFwibm8tY29yc1wiXHJcblx0Ly8gICB9KSlcclxuXHQvLyB9XHJcblxyXG5cdC8vIGV2ZW50LnJlc3BvbmRXaXRoKG5ldyBSZXNwb25zZSgnPGI+SGk8L2I+Jywge1xyXG5cdC8vICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAndGV4dC9odG1sJ31cclxuXHQvLyB9KSlcclxuXHJcblx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBHT1RDSEEgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHQvLyBmZXRjaCBFTVVMQVRFUyBCUk9XU0VSIFJFUVVFU1QsIHNvIHJlc3VsdHMgbWlnaHQgY29tZSBmcm9tIGNhY2hlIVxyXG5cdC8vIGV2ZW50LnJlc3BvbmRXaXRoKGZldGNoKGV2ZW50LnJlcXVlc3QpKVxyXG5cclxuXHQvLyBldmVudC5yZXNwb25kV2l0aChmZXRjaChldmVudC5yZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdC8vICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSA0MDQpIHtcclxuXHQvLyAgICAgLy8gVGhpcyBpcyB3aGVuIHRoZSBVUkwgb2YgZGVzdGluYXRpb24gaXMgbm90IGZvdW5kXHJcblx0Ly8gICAgIHJldHVybiBmZXRjaCgnL3VybC10by00MDQucG5nJylcclxuXHQvLyAgICAgLy8gcmV0dXJuIG5ldyBSZXNwb25zZSgnNDA0JylcclxuXHQvLyAgIH1cclxuXHQvLyAgIHJldHVybiByZXNwb25zZVxyXG5cdC8vIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuXHQvLyAgIHJldHVybiBuZXcgUmVzcG9uc2UoJ05vIGNvbm5lY3Rpb24gdG8gc2VydmVyIC8gb2ZmbGluZSEnKVxyXG5cdC8vICAgfSlcclxuXHQvLyApXHJcblxyXG5cdC8vIGZldGNoKCcvaW5kZXguaHRtbCcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHQvLyAgIHJldHVybiByZXNwb25zZS5ib2R5XHJcblx0Ly8gfSkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcblx0Ly8gICBjb25zb2xlLmxvZyhkYXRhKVxyXG5cdC8vICAgLy8gV2Ugbm93IGhhdmUgZGF0YVxyXG5cdC8vIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcclxuXHQvLyAgIC8vIERvIHNvbWV0aGluZyBhYm91dCBpdFxyXG5cdC8vIH0pXHJcblxyXG5cclxufSlcclxuXHJcbi8vIEFsbCBwcmV2aW91cyBzZXJ2aWNlIHdvcmtlcnMgYXJlIGdvbmUgKHBhZ2VzIHRoYXQgdXNlIGl0KSBhbmQgbm93XHJcbi8vIHRoaXMgc2VydmljZSB3b3JrZXIgY2FuIGJlY29tZSBhY3RpdmUuIEl0J3MgYSBwZXJmZWN0IHRpbWVcclxuLy8gdG8gZGVsZXRlIGFsbCBvbGQgY2FjaGVzLCBzbyB0aGF0IHBhZ2UgcmVmcmVzaCB3aWxsIHJldHVyblxyXG4vLyBldmVyeXRoaW5nIHRoYXQgVEhJUyBzZXJ2aWNlIHdvcmtlciBnb3QgZHVyaW5nIGl0cyBJTlNUQUxMLlxyXG5zZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2FjdGl2YXRlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0bGV0IGNhY2hlV2hpdGVsaXN0ID0gW0NBQ0hFX05BTUVdO1xyXG5cdGV2ZW50LndhaXRVbnRpbChcclxuXHRcdFByb21pc2UuYWxsKFtcclxuXHRcdFx0Ly8gR2V0dGluZyBhbGwgdGhlIG5hbWVzIG9mIHNhdmVkIGNhY2hlcywgYm90aCBvbGQgYW5kIGp1c3QgcmVjZW50bHlcclxuXHRcdFx0Ly8gaW5zdGFsbGVkLlxyXG5cdFx0XHRjYWNoZXMua2V5cygpLnRoZW4oZnVuY3Rpb24gKGFsbFN0b3JlZENhY2hlTmFtZXMpIHtcclxuXHRcdFx0XHQvLyBQcm9taXNlLmFsbCB3YWl0cyBmb3IgY29tcGxldGlvbiBvZiBhbGwgcHJvbWlzZXNcclxuXHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwoXHJcblx0XHRcdFx0XHRhbGxTdG9yZWRDYWNoZU5hbWVzLmZpbHRlcihmdW5jdGlvbiAodikge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gY2FjaGVXaGl0ZWxpc3QuaW5kZXhPZih2KSA8IDBcclxuXHRcdFx0XHRcdH0pLm1hcChmdW5jdGlvbiAoZWwpIHtcclxuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coXCJmcm9tXCIsIENBQ0hFX05BTUUsIFwiZGVsZXRpbmdcIiwgZWwpXHJcblx0XHRcdFx0XHRcdC8vIFRPRE86IFRoaXMgc2VlbXMgdG8gYmUgaGFwcGVuaW5nIGJlZm9yZSBhbnkgXCJmZXRjaFwiIG9mIHRoZSBuZXcgdmVyc2lvblxyXG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBTbyB3aGF0IGhhcHBlbnMgaXMgdGhhdCBhbGwgbmV3IGl0ZW1zIGhhdmVuJ3QgeWV0IGJlZW4gY2FjaGVkXHJcblx0XHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBvbmx5IGNhY2hlIHdoZW4gXCJmZXRjaFwiIGdvZXMgdGhyb3VnaC5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGNhY2hlcy5kZWxldGUoZWwpXHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0Ly8gYWxsU3RvcmVkQ2FjaGVOYW1lcy5tYXAoZnVuY3Rpb24oY2FjaGVOYW1lKSB7XHJcblx0XHRcdFx0XHQvLyAgIGlmIChjYWNoZVdoaXRlbGlzdC5pbmRleE9mKGNhY2hlTmFtZSkgPT09IC0xKSB7XHJcblx0XHRcdFx0XHQvLyAgICAgcmV0dXJuIGNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTtcclxuXHRcdFx0XHRcdC8vICAgfVxyXG5cdFx0XHRcdFx0Ly8gICByZXR1cm4gbnVsbFxyXG5cdFx0XHRcdFx0Ly8gfSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQsXHJcblxyXG5cdFx0XHRldmVudC53YWl0VW50aWwoc2VsZi5jbGllbnRzLmNsYWltKCkpXHJcblxyXG5cclxuXHRcdF0pXHJcblx0KVxyXG59KVxyXG5cclxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0aWYgKCdza2lwV2FpdGluZycgaW4gZXZlbnQuZGF0YSkge1xyXG5cdFx0c2VsZi5za2lwV2FpdGluZygpIC8vIE5ld2VzdCB2ZXJzaW9uIGlzIGNhbGxpbmcgdGhpcyB0byB0YWtlIGNvbnRyb2wgb3ZlciB0aGUgcGFnZVxyXG5cdH1cclxufSlcclxuXHJcbi8qXHJcbmRlY2xhcmUgdmFyIHNlbGY6IERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlO1xyXG5leHBvcnQge307XHJcblxyXG5kZWNsYXJlIHZhciBzZWxmOiBTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGU7XHJcbmV4cG9ydCB7fTtcclxuKi8iXSwKICAibWFwcGluZ3MiOiAiO0FBT0EsTUFBTSxDQUFDLFNBQVMsb0JBQW9CO0FBS3BDLElBQUksYUFBYTtBQUNqQixJQUFJLDJCQUEyQjtBQUFBLEVBQzlCO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQTtBQVFELEtBQUssaUJBQWlCLFdBQVc7QUFLaEMsUUFBTSxVQUdMLE9BQU8sS0FBSyxZQUNWLEtBQUssU0FBVTtBQU1mLFdBQU8sTUFBTSxPQUFPO0FBQUE7QUFBQTtBQVV4QixLQUFLLGlCQUFpQixXQUFXLFNBQVU7QUFDMUMsUUFBTSxVQUNMLFFBQVEsSUFBSTtBQUFBLElBQ1gsS0FBSztBQUFBO0FBQUE7QUFRUixLQUFLLGlCQUFpQixTQUFTLFNBQVU7QUFDeEMsTUFBSSxjQUFjLE1BQU0sUUFBUTtBQUNoQyxNQUFJLFdBQVc7QUFDZixNQUFJLGVBQWUsS0FBSztBQUV2QixlQUFXLFlBQVksUUFBUSxlQUFlO0FBQUE7QUFLL0MsTUFBSSxlQUFlO0FBQ25CLE1BQUksTUFBTSxRQUFRLFFBQVEsSUFBSTtBQUM3QixtQkFBZSxNQUFNLFFBQVEsUUFBUSxJQUFJLFVBQVUsU0FBUztBQUFBO0FBRTdELE1BQUk7QUFDSCxRQUFJLGVBQWUsS0FBSztBQUFBO0FBQUE7QUFJekIsTUFBSSxNQUFNLFFBQVEsUUFBUSxJQUFJO0FBQzdCLFFBQUksTUFBTSxRQUFRLElBQUksU0FBUztBQUU5QixZQUFNLFlBQVksSUFBSSxTQUFTLElBQUk7QUFBQSxRQUFDLFFBQVE7QUFBQSxRQUMzQyxZQUFZO0FBQUE7QUFBQTtBQUFBO0FBS2YsUUFBTSxZQVFMLE9BQU8sTUFBTSxVQUNYLEtBQUssU0FBVTtBQUVmLFFBQUk7QUFDSCxhQUFPO0FBQUE7QUFJUixRQUFJLGlCQUFpQixNQUFNLFFBQVE7QUFHbkMsV0FBTyxNQUFNLGFBQXNELEtBQ2xFLFNBQVU7QUFHVCxVQUFJLENBQUMsYUFBWSxVQUFTLFdBQVcsT0FBTyxVQUFTLFNBQVM7QUFDN0QsZUFBTztBQUFBO0FBU1IsVUFBSSxrQkFBa0IsVUFBUztBQUUvQixhQUFPLEtBQUssWUFDVixLQUFLLFNBQVU7QUFFZixjQUFNLElBQUksVUFBVTtBQUFBO0FBR3RCLGFBQU87QUFBQTtBQUFBO0FBQUE7QUFpRGIsS0FBSyxpQkFBaUIsWUFBWSxTQUFVO0FBQzNDLE1BQUksaUJBQWlCLENBQUM7QUFDdEIsUUFBTSxVQUNMLFFBQVEsSUFBSTtBQUFBLElBR1gsT0FBTyxPQUFPLEtBQUssU0FBVTtBQUU1QixhQUFPLFFBQVEsSUFDZCxvQkFBb0IsT0FBTyxTQUFVO0FBQ3BDLGVBQU8sZUFBZSxRQUFRLEtBQUs7QUFBQSxTQUNqQyxJQUFJLFNBQVU7QUFLaEIsZUFBTyxPQUFPLE9BQU87QUFBQTtBQUFBO0FBQUEsSUFheEIsTUFBTSxVQUFVLEtBQUssUUFBUTtBQUFBO0FBQUE7QUFPaEMsS0FBSyxpQkFBaUIsV0FBVyxTQUFVO0FBQzFDLE1BQUksaUJBQWlCLE1BQU07QUFDMUIsU0FBSztBQUFBO0FBQUE7IiwKICAibmFtZXMiOiBbXQp9Cg==
